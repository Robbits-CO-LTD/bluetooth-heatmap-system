# Progress Checklist — 2025-08-08

参照: `Obsidian Vault/bluetooth-heatmap-design.md` / リポジトリ現況スキャン

## 1. コア機能（src/core/）
- [x] `config_loader.py`（ENV置換・レイアウト読込）
- [x] `scanner.py`（単体/複数受信機対応）
- [x] `device_manager.py`
- [x] `position_calculator.py`
- [ ] 受信機/ゾーンメタのバリデーション強化

## 2. 分析（src/analysis/）
- [x] `trajectory_analyzer.py`
- [x] `dwell_time_analyzer.py`
- [x] `flow_analyzer.py`
- [ ] 異常検知・パターン検出（`anomaly_detector.py` / `pattern_detector.py`）

## 3. メイン制御（src/main.py）
- [x] 初期化/開始/停止
- [x] スキャン/分析/メンテ/レポート ループ
- [x] ログ/統計出力
- [ ] TODOの具体化（遷移時間計測など）

## 4. API（src/api/）
- [x] FastAPI アプリ `app.py`（ファイル存在・疎通未検証）
- [x] ルート: trajectories / dwell-time / flow / realtime(WS)（`routes/` ディレクトリ存在・内容未精査）
- [ ] CORS / 認証（`config.api.auth`）（未確認）
- [ ] ヘルスチェック / OpenAPI（未検証）

## 5. データベース（src/database/、scripts/）
- [x] 接続/ORM: `connection.py`（ファイル存在・疎通未検証）
- [x] スキーマ: `models.py`（ファイル存在・内容未精査）
- [x] 初期化: `scripts/init_db.py`（ファイル存在・実行未検証）
- [ ] マイグレーション: Alembic or SQL（未検出）

## 6. 可視化/GUI（src/visualization/, src/gui/）
- [x] ヒートマップ生成（`heatmap_generator.py` あり）
- [x] フロー可視化（`flow_visualizer.py` あり）
- [ ] 軌跡プロット
- [x] ダッシュボード（`dashboard.py` あり） / [ ] GUI

## 7. Web（web/）
- [ ] フロントエンド雛形（依存, ビルド, APIサービス）
- [ ] ヒートマップ/フロー/軌跡のビュー

## 8. インフラ/運用（deployment/）
- [ ] docker-compose.yml（DB/Redis/API/Web）
- [ ] 監視（Prometheus/Grafana）
- [ ] バックアップスクリプト

## 9. 品質・テスト（tests/）
- [ ] unit: ConfigLoader, PositionCalculator（ディレクトリのみ・テスト未実装）
- [ ] integration: スキャン→分析→API までのE2E（ディレクトリのみ・テスト未実装）
- [ ] covレポート/CI

## 10. 設定/ドキュメント
- [x] `config/config.yaml`（ENV置換対応）
- [x] `config/layouts/supermarket_a.yaml`（存在）
- [ ] `.env` 作成・値設定
- [x] `README.md` 初版
- [ ] APIリファレンス

---
メモ: 現在の主な不足は API/DB/スクリプト。まずは API スキャフォールドと DB 初期化を実装すれば、READMEの起動手順と整合し統合動作確認が可能になります。

更新: 2025-08-08 14:10 JST（ファイル存在の確認を反映。疎通・実行は未検証）
